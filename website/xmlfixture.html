<!DOCTYPE html PUBLIC><html xmlns:template='http://buildmaster.rubyforge.org/xtemplate/1.0' xmlns='http://www.w3.org/1999/xhtml'>
<head>
    <title>ShaneDuan.com - XML Fixture Tutorial</title>
    <link href='shaneduan.css' media='all' rel='stylesheet' type='text/css'/>
    <link href='print.css' media='print' rel='stylesheet' type='text/css'/>
    <link href='code.css' media='all' rel='stylesheet' type='text/css'/>
    <meta content='text/html; charset=windows-1252' http-equiv='Content-Type'/>
    <meta content='BuildMaster' name='generator'/>
</head>
<body>

<div id='header'>
  <p id='title'><a href='index.html'>shaneduan.com</a> - XML Fixture Tutorial</p>
</div>

<!-- Main Column -->
<div id='mainClm'>
  

<p>XmlFixture is the class that helps XML assertions in an easy way.</p>

<h1>Download</h1>

<p><a href='http://sourceforge.net/project/showfiles.php?group_id=54719&amp;package_id=156151'>http://sourceforge.net/project/showfiles.php?group_id=54719&amp;package_id=156151</a>
</p>

<h1>Creation</h1>

<p>XmlFixture works using JDom, and it can be created from various type of sources using its static factory methods:</p>

<ul>
  <li>String: <code>XmlFixture.fromText(String content)</code>
  </li><li>Reader: <code>XmlFixture.fromReader(Reader reader)</code>
  </li><li>w3c Document: <code>XmlFixture.fromW3cDocument(org.w3c.dom.Document document)</code>
</li>
</ul>

<h1>XPath Match</h1>

<p>After a XmlFixture instance is created, it can be used for XPath matching by calling <code>xpathMatch</code>.
This methods will create a <code>XpathMatch</code> object that contains the XPath match result, with the following method:</p>

<ul>
  <li><code>node()</code>: This will return the matched node. <b>IMPORTANT</b>:
It will return <code>null</code> if there is no match found, and throw <code>IllegalStateException</code> if more than one node matched.
  </li><li><code>stringValue()</code>: This is the same as node method except that it will return the string value of the matched node.
  </li><li><code>list</code>: Return the list of matched nodes.
  </li><li><code>count</code>: Convenience method that returns the number of the matched nodes
  </li><li><code>hasMatch</code>: Convenience method that returns true if there are matched nodes and false otherwise.
</li>
</ul>
Please also note that for convenience, the commonly used methods on XpathMatch is also available on XmlFixture.

<p>The following code block illustrates how a typical XML assertion looks like with XmlFixture:</p>

<div class='Shaded'>
<code><pre>XmlFixture xml = XmlFixture.fromText("&lt;person&gt;&lt;address type=\"test\"&gt;address value&lt;/address&gt;&lt;/person&gt;");
assertEquals("address value", xml.xpath("/person/address[@type='test']"));
assertEquals(1, xml.xpathCount("/person/address"));
</pre></code>
</div>

<h1>Exception Handling</h1>

<p>XmlFixture wraps all the excepion into a <code>RuntimeException</code> so that you don't have to.</p>

<h1>Dependency</h1>

<p>The following are the jars that XmlFixture depends on:</p>

<ul>
  <li>commons-lang-2.0.jar</li>
  <li>jaxen-1.0-dev.jar</li>
  <li>jdom-b9/jdom.jar</li>
  <li>saxpath-1.0-FCS.jar</li>
  <li>junit.jar: For backward compatibility.  Although you should use JUnit in your project anyway.</li>
</ul>


</div>

<!-- Sidebar -->
<div id='sideBar'>

<h1>Life</h1>
<ul>
  <li><a href='wedding.html'>Wedding</a></li>
  <li><a href='http://funworks.blogspot.com/'>Fun Works (Blog)</a></li>
  <li><a href='hobby.html'>Hobby</a></li>
</ul>
		
<h1>Profession</h1>
<ul>
    <li><a href='experiences.html'>Experiences</a></li>
    <li><a href='community.html'>Activities</a></li>
    <li><a href='opensource.html'>Open Source</a></li>
    <li><a href='http://agileworks.blogspot.com'>Agile Works (Blog)</a></li>
</ul>
<h1>References</h1>
<ul>
    <li><a href='contact.html'>Contact Me</a></li>
    <li><a href='interaction.html'>Interaction Design</a></li>
    <li><a href='tools/ssh.html'>SSH Setup</a></li>
    <li><a href='tools.html'>Tools</a></li>
		<li><a href='http://www.linkedin.com/in/shaneduan'>
          <img alt='View Shane Duan&apos;s profile on LinkedIn' border='0' height='33' src='http://www.linkedin.com/img/webpromo/btn_viewmy_160x33.png' width='160'/>
    </a></li>
</ul>


</div>

<div class='footer'>
    <div class='bottomshadow'/>
    <div class='poweredby'>
        Powered by <a class='footer' href='http://buildmaster.rubyforge.org'>BuildMaster</a>
        (Version 1.1.12)
        -
        <a class='footer' href='/contact.html'>Contact Administrators</a>
        <br/>
    </div>
    <div><script language='JavaScript' src='http://www.webpasties.com/pastie.php?mode=tracker&amp;tid=2299&amp;mid=44' type='text/javascript'>
      </script>
    </div>
    <div>
<script src='http://www.google-analytics.com/urchin.js' type='text/javascript'>
</script>
<script type='text/javascript'>
_uacct = "UA-735422-1";
urchinTracker();
</script>
    </div>
</div>


</body>
</html>
